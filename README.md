## Springboot 2.x / SpringSecurity / Jpa / H2 / Oauth2.0
server 띄우면 console에 아래와 같이 출력된다.    

> Hibernate: 
    
    drop table role if exists
Hibernate: 
    
    drop table user if exists
Hibernate: 
    
    drop table user_roles if exists
Hibernate: 
    
    create table role (
       id bigint generated by default as identity,
        name varchar(255),
        primary key (id)
    )
Hibernate: 
    
    create table user (
       id bigint generated by default as identity,
        create_date timestamp,
        email varchar(255),
        name varchar(255),
        password varchar(255),
        primary key (id)
    )
Hibernate: 
    
    create table user_roles (
       user_id bigint not null,
        role_id bigint not null,
        primary key (user_id, role_id)
    )
Hibernate: 
    
    alter table user_roles 
       add constraint FKrhfovtciq1l558cw6udg0h0d3 
       foreign key (role_id) 
       references role
Hibernate: 
    
    alter table user_roles 
       add constraint FK55itppkw3i07do3h7qoclqd4k 
       foreign key (user_id) 
       references user
       
- localhost:8080 으로 접속하면 localhost:8080/login 화면으로 이동되고 login form이 나타난다. (spring security)

## ISSUE
Spring Boot의 기본 설정 Spring Security 에서 H2 데이터 베이스 콘솔에 접근을 차단함.  
H2 접속을 위해 SecurityConfiguration.java 클래스에 아래와 같이 설정해준다.  
- /console/* 의 URL접근 허용  
- CRSF(Cross-Site Request Forgery) 중지. 기본 값이고, CRSF 공격에 대하여 방어  
- H2 데이터베이스 콘솔이 frame 안에서 동작 하도록 하는 Spring Security 옵션  
- root url("/") 에 대한 요청 허용
- H2 데이터베이스 콘솔 url("/console/*") 요청에 대한 허용
- CSRF 중지
- X-Frame-Options in Spring Security 중지

- security login form이 안뜨고 바로 index.html page로 이동되는 상황 ( SecurityConfiguration.java의 setting이 문제 )  
2019-08-18  
- id,pw 받고, 로그인 시 No AuthenticationProvider found for org.springframework.security.authentication.UsernamePasswordAuthenticationToken

## Memo
- 2019.08.18 User.java, Role.java (x) Account.java 사용 중

